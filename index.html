<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>videojs-sync-plugin Demo</title>

  <link href="node_modules/video.js/dist/video-js.css" rel="stylesheet">

</head>

<body>
  <video id="videojs-sync-plugin-player" class="video-js vjs-default-skin" controls>
    <source src="https://vjs.zencdn.net/v/oceans.mp4" type='video/mp4'>
    <source src="https://vjs.zencdn.net/v/oceans.webm" type='video/webm'>
  </video>
  <ul>
    <li><a href="/test/debug.html">Run unit tests in browser.</a></li>
    <li><a href="docs/api/">Read generated docs.</a></li>
  </ul>
  <script src="node_modules/video.js/dist/video.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.5/socket.io.min.js"
    integrity="sha384-2huaZvOR9iDzHqslqwpR87isEmrfxqyWOF7hr7BY6KG0+hVKLoEXMPUJw3ynWuhO"
    crossorigin="anonymous"></script>
  <script src="dist/videojs-sync-plugin.js"></script>
  <script>
    const socket = io('http://localhost:3000/');
    const ws = new WebSocket('ws://localhost:3000/');
    (function (window, videojs) {
      var examplePlayer = window.examplePlayer = videojs('videojs-sync-plugin-player');
      var syncPlugin = window.syncPlugin = examplePlayer.syncPlugin({
        connection: socket
      });
      syncPlugin.on('syncplay', () => {
        console.log('Sync play event received');
      });

      syncPlugin.on('syncpause', () => {
        console.log('Sync pause event received');
      });

      syncPlugin.on('syncseeked', () => {
        console.log('Sync seek event received');
      });

      syncPlugin.on('syncevent', () => {
        console.log('General sync event received');
      });
    }(window, window.videojs));
  </script>
</body>

</html>